<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="manifest" href="/manifest.json">
  <!-- Android PWA Support -->
  <meta name="theme-color" content="#222222" />

  <!-- iOS PWA Support -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="In the Meantime">

  <link rel="apple-touch-icon" href="icon-pwa.png">

  <title>Secure Reader</title>
  <style>
    body {
      margin: 0;
      background: #f2f2f2;
      font-family: sans-serif;
      color: #333;
      user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
      overflow-y: auto;
    }

        .container, .cover {
      max-width: 700px;
      margin: 60px auto;
      padding: 30px;
      background: white;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      min-height: 300px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }

    .cover img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    }

    h1 {
      font-size: 24px;
      margin-bottom: 20px;
    }

    p {
      line-height: 1.6;
      font-size: 18px;
      text-align: justify;
    }

    /* Navigation buttons */
    .nav {
      text-align: center;
      margin-top: 30px;
    }
    button {
      font-size: 16px;
      padding: 10px 25px;
      margin: 0 10px;
      cursor: pointer;
      user-select: none;
    }
    button:disabled {
      opacity: 0.4;
      cursor: default;
    }

    /* iOS install banner */
    #ios-install-banner {
      display: none;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #222;
      color: white;
      padding: 15px;
      font-size: 16px;
      text-align: center;
      z-index: 9999;
      font-family: sans-serif;
      user-select: auto;
    }

    #ios-install-banner .share-icon {
      display: inline-block;
      width: 20px;
      height: 20px;
      vertical-align: middle;
      margin: 0 8px;
      position: relative;
      animation: bounce 1.2s infinite;
    }

    .share-icon::before {
      content: '';
      display: block;
      width: 100%;
      height: 100%;
      border: 2px solid #1e90ff;
      border-radius: 4px;
      box-sizing: border-box;
    }

    .share-icon::after {
      content: '';
      position: absolute;
      left: 5px;
      bottom: 4px;
      width: 10px;
      height: 10px;
      border-left: 2px solid #1e90ff;
      border-top: 2px solid #1e90ff;
      transform: rotate(45deg);
      transform-origin: bottom left;
    }

    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }

    #ios-install-banner button {
      margin-left: 15px;
      background: none;
      border: none;
      color: white;
      font-size: 18px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- Cover Screen -->
  <div class="cover" id="cover-screen">
    <img src="icon-cover.png" alt="Book Cover">
    <div id="start-btn">
      <button>Start Reading</button>
    </div>
  </div>
    <!-- Book Pages -->
  <div class="container" id="page-container" style="display:none;"></div>


  <div class="nav" style="display:none;">
    <button id="prev-btn">Previous</button>
    <button id="next-btn">Next</button>
    <div style="margin-top: 10px; font-size: 13px;">
    <label for="chapter-select" style="margin-right: 6px;">Jump to Chapter:</label>
    <select id="chapter-select" style="font-size: 13px; padding: 4px 6px;">
      <option value="">Ch...</option>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
      <option value="13">13</option>
      <option value="14">14</option>
      <option value="15">15</option>
      <option value="16">16</option>
    </select>
  </div>
</div>
  </div>


  <!-- iOS Install Banner -->
  <div id="ios-install-banner" role="region" aria-label="Install instructions for iOS">
    <span>To install this app, tap the</span>
    <span class="share-icon" aria-hidden="true"></span>
    <span>button then <strong>Add to Home Screen</strong></span>
    <button id="close-ios-banner" aria-label="Close install instructions">✕</button>
  </div>


  <script>
    document.addEventListener('contextmenu', e => e.preventDefault());
    ['copy', 'cut', 'paste'].forEach(evt => document.addEventListener(evt, e => e.preventDefault()));
    document.addEventListener('keydown', function(e) {
      if ((e.ctrlKey || e.metaKey) && ['c', 'x', 'v', 's', 'p', 'u'].includes(e.key.toLowerCase())) {
        e.preventDefault();
      }
    });

    (function() {
      const isIos = /iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());
      const isInStandaloneMode = ('standalone' in navigator) && navigator.standalone;
      const banner = document.getElementById('ios-install-banner');
      if (isIos && !isInStandaloneMode && !localStorage.getItem('iosInstallBannerDismissed')) {
        banner.style.display = 'block';
      }
      document.getElementById('close-ios-banner').addEventListener('click', () => {
        banner.style.display = 'none';
        localStorage.setItem('iosInstallBannerDismissed', 'true');
      });
    })();

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/sw.js').then(reg => {
        console.log('✅ Service Worker registered:', reg.scope);
      }).catch(err => console.error('❌ Service Worker error:', err));
    }

 const bookPages = [
      { chapter: "Chapter 1", text: "A New Era of Labor" },
      { chapter: "Chapter 1", text: "In 1990, a “job” meant a career, a steady paycheck, perhaps a pension, a place to go each day, and coworkers to share coffee breaks with. Today, that definition feels increasingly outdated. In 2025, millions of workers are juggling multiple income streams, driving for ride-share apps at night while freelancing graphic design during the day. We are witnessing a labor transformation unlike any before—a shift not just in where or how we work, but in what work even means.<br><br>This shift is often framed in terms of convenience and flexibility. But beneath the surface lies a more complex and ethically fraught landscape. The gig economy didn’t just emerge out of nowhere; it was built on years of deregulation, digital innovation, and economic instability. And while traditional jobs were never perfect, they came with protections that gig work bypasses. <br><br><strong>Defining Traditional Employment</strong><br><br>Traditional Employment: structured, legally defined, and relatively stable. Employees receive wages, benefits, and protections under the law." },
      { chapter: "Chapter 2", text: "A new day began in the village." },
      { chapter: "Chapter 2", text: "Footsteps echoed on the wet cobblestones." }
    ];

    let currentPage = 0;
    const coverScreen = document.getElementById('cover-screen');
    const pageContainer = document.getElementById('page-container');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const nav = document.querySelector('.nav');

    function renderPage() {
      const page = bookPages[currentPage];
       const formattedText = page.text.split('/').map(p => p.trim()).join('<br><br>');
      pageContainer.innerHTML = `<h1>${page.chapter}</h1><p>${page.text}</p>`;
      subheader.innerHTML = '<strong> this is my bold header with important text.</strong>';
      prevBtn.disabled = currentPage === 0;
      nextBtn.disabled = currentPage === bookPages.length - 1;
    }

    document.getElementById('start-btn').addEventListener('click', () => {
      coverScreen.style.display = 'none';
      pageContainer.style.display = 'flex';
      nav.style.display = 'block';
      renderPage();
    });

    prevBtn.addEventListener('click', () => {
      if (currentPage > 0) {
        currentPage--;
        renderPage();
      }
    });

    nextBtn.addEventListener('click', () => {
      if (currentPage < bookPages.length - 1) {
        currentPage++;
        renderPage();
      }
    });
    const chapterSelect = document.getElementById('chapter-select');

chapterSelect.addEventListener('change', () => {
  const selectedChapter = chapterSelect.value;
  if (!selectedChapter) return;

  const index = bookPages.findIndex(p => p.chapter === `Chapter ${selectedChapter}`);
  if (index !== -1) {
    currentPage = index;
    renderPage();
  } else {
    alert("Chapter not found.");
  }
});
  </script>
</body>
</html>
